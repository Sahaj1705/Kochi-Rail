<!DOCTYPE html>
<html><head>
<meta charset="utf-8"/>
<link crossorigin="" href="https://fonts.gstatic.com/" rel="preconnect"/>
<link as="style" href="https://fonts.googleapis.com/css2?display=swap&amp;family=Roboto%3Awght%40400%3B500%3B700%3B900&amp;family=Inter%3Awght%40400%3B500%3B700" onload="this.rel='stylesheet'" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
<title>Stitch Design</title>
<link href="data:image/x-icon;base64," rel="icon" type="image/x-icon"/>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<style type="text/tailwindcss">
        :root {
            --primary-500: #38e07b;
            --primary-600: #2dba62;
            --primary-700: #22934e;
            --secondary-100: #f0fdf4;
            --secondary-200: #dcfce7;
            --secondary-400: #4ade80;
            --secondary-500: #22c55e;
            --neutral-100: #f3f4f6;
            --neutral-200: #e5e7eb;
            --neutral-300: #d1d5db;
            --neutral-400: #9ca3af;
            --neutral-500: #6b7280;
            --neutral-600: #4b5563;
            --neutral-700: #374151;
            --neutral-800: #1f2937;
            --neutral-900: #111827;
        }
        .running-dot {
            animation: pulse-green 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        .delayed-dot {
            animation: pulse-amber 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        .stopped-dot {
            animation: pulse-red 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        @keyframes pulse-green {
            0%,
            100% {
                opacity: 1;
                box-shadow: 0 0 0 0 rgba(74, 222, 128, 0.7);
            }
            50% {
                opacity: .7;
                box-shadow: 0 0 0 16px rgba(74, 222, 128, 0);
            }
        }
        @keyframes pulse-amber {
            0%,
            100% {
                opacity: 1;
                box-shadow: 0 0 0 0 rgba(251, 191, 36, 0.7);
            }
            50% {
                opacity: .7;
                box-shadow: 0 0 0 16px rgba(251, 191, 36, 0);
            }
        }
        @keyframes pulse-red {
            0%,
            100% {
                opacity: 1;
                box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7);
            }
            50% {
                opacity: .7;
                box-shadow: 0 0 0 16px rgba(239, 68, 68, 0);
            }
        }
        .btn-press {
            transition: transform 0.1s ease-in-out, box-shadow 0.1s ease-in-out;
        }
        .btn-press:active {
            transform: scale(0.97);
            box-shadow: 0 0 0 2px rgba(56, 224, 123, 0.5);
        }
    </style>
</head>
<body class="bg-neutral-900 text-white" style='font-family: "Inter", "Roboto", sans-serif;'>
<div class="flex min-h-screen flex-col" x-data="{ 
        selectedTrain: null, 
        activeFilter: 'stopped',
        activeVerifyTab: 'current',
        historySearch: '',
        historyFilterOpen: false,
        verifyModalOpen: false,
        trainToVerify: null,
        issueResolved: true,
        issueStatusDescription: '',
        currentTime: new Date(),
        refreshing: false,
        isDark: true,
        notification: { show: false, train: null, officers: [] },
        init() {
            const trainStatuses = ['running', 'delayed', 'stopped'];
            const trainLines = ['Line 1', 'Line 2'];
            const locations = ['Aluva Station', 'Petta Station', 'Cusat Station', 'MG Road Station', 'Palarivattom Station', 'Edapally Station', 'Kalamassery Station', 'Vyttila Station', 'Thykoodam Station', 'JLN Stadium Station'];
            const issues = [
                { title: 'Brake System Malfunction', description: 'Minor issue reported. Maintenance crew alerted.' },
                { title: 'Door Sensor Fault', description: 'One door is not closing properly. Manual override active.' },
                { title: 'AC Unit Failure', description: 'AC unit in coach C3 is not working.' },
                { title: 'Communication System Offline', description: 'Cannot reach the train operator via radio.' },
                null
            ];
            const eventTypes = [
                { event: 'Routine check complete', status: 'success' },
                { event: 'Brake fluid level low', status: 'warning' },
                { event: 'Communication link reset', status: 'info' },
                { event: 'Ticket scanner offline', status: 'error' },
                { event: 'Speed sensor calibrated', status: 'success'},
                { event: 'Wiper fluid refilled', status: 'info' },
                { event: 'Passenger alarm activated', status: 'warning' },
                { event: 'CCTV camera feed lost', status: 'error' },
            ];
            const officers = [
                 { name: 'Rohan Patil', role: 'Security Supervisor', avatar: 'https://lh3.googleusercontent.com/aida-public/AB6AXuDNWxF0S-r56TIxTtV6hFcHQ_wKkabnNaukGd_wLB1LIQqReToOPIv_kahN9uXFtGV1H9uwt-JHrs5IJVKPe6tq_k1rdDhbsxHEJS0scj8LCEAo7rAryPHfQgiWVH6SkcMf8vcMG6ioilwh9Wx5NdNNPeTXGpuq1JeQnxcgFs9lIezpvX5swfnoYZIEZsbNwVPKgiUk2a_nVAKCX0rmPQKaFLkxpu6EcQ17esxYnMY-1gnnxeWmCG8I8CE3RXcLR1HwieJHocu3jXfo' },
                 { name: 'Sunita Rao', role: 'Station Staff', avatar: 'https://lh3.googleusercontent.com/aida-public/AB6AXuAwfVVlqvh-qu1RYrQwECCwgtGimFp80bLuAZhOGbjBafMNTYb4hPUKvuCmcmlyJ1zcWuJU-Qly2thz9CMn2wFnFPOjm2Neoh8If5f0EM_WyMkdaH9RaHfKZiPDlHtlklRq1d29xuafpw8a6DtuAfju0MS7WecIioQMuT8-01uOHsNc7hPfKQwh3bNFv5ZJfgHLiKhNH3NAr9j7B57l4SBQRIS720P3TzCD56P87CbnYlOTzs8YUxZr18sXraj9SXiYJgXlTOoWnxlp' },
                 { name: 'Priya Sharma', role: 'Control Room Operator', avatar: 'https://images.unsplash.com/photo-1580489944761-15a19d654956?q=80&amp;w=256&amp;auto=format&amp;fit=crop' },
                 { name: 'Anil Kumar', role: 'Maintenance Engineer', avatar: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&amp;w=256&amp;auto=format&amp;fit=crop' },
                 { name: 'Vijay Nair', role: 'Security Staff', avatar: 'https://images.unsplash.com/photo-1539571696357-5a69c17a67c6?q=80&amp;w=256&amp;auto=format&amp;fit=crop' },
                 { name: 'Meera Menon', role: 'Station Manager', avatar: 'https://images.unsplash.com/photo-1494790108377-be9c29b29330?q=80&amp;w=256&amp;auto=format&amp;fit=crop' }
            ];
            this.generateData = (isInitial = false) =&gt; {
                this.refreshing = !isInitial;
                const generatedTrains = {};
                const generatedHistory = [];
                let now = new Date();
                for (let i = 1; i &lt;= 50; i++) {
                    const trainId = `KM-${String(i).padStart(3, '0')}`;
                    const status = trainStatuses[Math.floor(Math.random() * trainStatuses.length)];
                    const locationPrefix = ['Approaching', 'Departed from', 'At'][Math.floor(Math.random() * 3)];
                    const issue = status === 'stopped' ? issues[Math.floor(Math.random() * (issues.length - 1))] : null;
                    generatedTrains[trainId] = {
                        id: trainId,
                        name: trainLines[Math.floor(Math.random() * trainLines.length)],
                        issue: issue,
                        location: `${locationPrefix} ${locations[Math.floor(Math.random() * locations.length)]}`,
                        officers: [...officers].sort(() =&gt; 0.5 - Math.random()).slice(0, 2),
                        status: status,
                    };
                    for(let j=0; j &lt; Math.floor(Math.random() * 3) + 1; j++) {
                        const eventData = eventTypes[Math.floor(Math.random() * eventTypes.length)];
                        now.setMinutes(now.getMinutes() - (Math.floor(Math.random() * 30)));
                        generatedHistory.push({
                            id: trainId,
                            event: eventData.event,
                            time: now.toLocaleTimeString('en-GB', { hour: '2-digit', minute: '2-digit' }),
                            status: eventData.status
                        });
                    }
                }
                this.trains = generatedTrains;
                this.history = generatedHistory.sort((a,b) =&gt; b.time.localeCompare(a.time));
                if(isInitial) this.selectedTrain = Object.keys(this.trains)[0];
                this.refreshing = false;
            };
            this.generateData(true);
            setInterval(() =&gt; {
                this.currentTime = new Date();
            }, 1000);
        },
        refreshData() {
            this.generateData();
        },
        openVerifyModal(train) {
            this.trainToVerify = train;
            this.issueResolved = true;
            this.issueStatusDescription = '';
            this.verifyModalOpen = true;
        },
        confirmVerification() {
            if (this.issueResolved &amp;&amp; this.trainToVerify) {
                const verifiedTrain = this.trains[this.trainToVerify.id];
                verifiedTrain.status = 'running';
                verifiedTrain.issue = null;
                this.notification.train = verifiedTrain;
                this.notification.officers = verifiedTrain.officers;
                this.notification.show = true;
                setTimeout(() =&gt; {
                    this.notification.show = false;
                }, 5000);
                if (this.activeFilter === 'stopped' &amp;&amp; this.selectedTrain === this.trainToVerify.id) {
                   this.selectedTrain = null;
                }
            }
            this.verifyModalOpen = false;
            this.trainToVerify = null;
        },
        trains: {},
        history: [],
        generateData: null,
        get filteredTrains() {
            if (this.activeFilter === 'all') {
                return Object.values(this.trains);
            }
            return Object.values(this.trains).filter(train =&gt; train.status === this.activeFilter);
        },
        get filteredHistory() {
            if (this.historySearch === '') {
                return this.history;
            }
            return this.history.filter(item =&gt; {
                return item.id.toLowerCase().includes(this.historySearch.toLowerCase()) || 
                       item.event.toLowerCase().includes(this.historySearch.toLowerCase());
            });
        },
        get runningCount() {
            return Object.values(this.trains).filter(t =&gt; t.status === 'running').length;
        },
        get delayedCount() {
            return Object.values(this.trains).filter(t =&gt; t.status === 'delayed').length;
        },
        get stoppedCount() {
            return Object.values(this.trains).filter(t =&gt; t.status === 'stopped').length;
        },
        get formattedDate() {
            return this.currentTime.toLocaleDateString('en-GB', {
                day: '2-digit', month: 'short', year: 'numeric'
            });
        },
        get formattedTime() {
            return this.currentTime.toLocaleTimeString('en-US', {
                hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: true
            });
        }
    }">
<header class="flex h-20 w-full flex-shrink-0 items-center justify-between border-b border-neutral-800 bg-neutral-900 px-4 md:px-6 transition-colors">
<div class="flex items-center gap-2 md:gap-4">
<button class="text-neutral-400 hover:text-white md:hidden btn-press rounded-full p-2">
<span class="material-symbols-outlined">menu</span>
</button>
<div class="flex items-center gap-3">
<svg class="h-8 w-8 text-cyan-500" fill="none" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
<path clip-rule="evenodd" d="M24 4H42V17.3333V30.6667H24V44H6V30.6667V17.3333H24V4Z" fill="currentColor" fill-rule="evenodd"></path>
</svg>
<span class="text-base sm:text-lg font-semibold lg:text-xl">Kochi Metro Service</span>
</div>
</div>
<div class="flex items-center gap-2 sm:gap-4">
<button :disabled="refreshing" @click="refreshData()" class="flex h-10 w-10 items-center justify-center rounded-full bg-neutral-800 text-neutral-400 transition-all duration-200 hover:bg-neutral-700 hover:text-white active:scale-95">
<span :class="{'animate-spin': refreshing}" class="material-symbols-outlined">refresh</span>
</button>
<button class="relative rounded-full p-2 text-neutral-400 transition-all duration-200 hover:bg-neutral-800 hover:text-white active:scale-95" id="qr-scanner-button">
<span class="material-symbols-outlined">qr_code_scanner</span>
</button>
<button class="relative rounded-full p-2 text-neutral-400 transition-all duration-200 hover:bg-neutral-800 hover:text-white active:scale-95" id="notification-button">
<span class="material-symbols-outlined">notifications</span>
<span class="absolute right-1.5 top-1.5 h-2 w-2 rounded-full bg-lime-400"></span>
</button>
<div class="flex items-center gap-3">
<img alt="User avatar" class="h-10 w-10 rounded-full object-cover" src="https://lh3.googleusercontent.com/aida-public/AB6AXuBf4_nRlNRq4FPh__uoO2kkc9M5jXm6DZ4o9sNXFTkKXC5gJC7Rpp3mUgq1UjLC_FIpXD7dpskBXwHlZWaYiutAVn2rJpsMetJMcygsF3U7cINCDz72UQ8CMGhM7q6I14mmvWuLG6OVR69QN0eBskghhI1U9-jNyM9bQ-AFOn8qdWfWy1JYwvp-nfH6cmdTNyWj6DSOoyaAfzCcWmwxZUcYjM98HCk86XVrIHCtY8KKkQ5MiUf3PUbmxC477DZj6QKuW55H23i_LOd8"/>
<div class="hidden sm:block">
<p class="font-semibold text-sm">Bhawna</p>
<p class="text-xs text-neutral-400">Admin</p>
</div>
</div>
<button class="ml-2 flex items-center gap-2 rounded-md bg-red-600/50 px-3 py-2 text-sm font-medium text-red-300 transition-all duration-200 hover:bg-red-600/70 hover:text-white focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:ring-offset-neutral-900 active:scale-95">
<span class="material-symbols-outlined text-base">logout</span>
<span class="hidden md:inline">Logout</span>
</button>
</div>
</header>
<div class="flex flex-1 overflow-hidden">
<aside class="hidden w-64 flex-shrink-0 flex-col bg-neutral-900 p-4 border-r border-neutral-800 lg:flex">
<nav class="mt-6 flex flex-col gap-3">
<a class="flex items-center gap-4 rounded-lg bg-cyan-500/20 px-4 py-3 text-cyan-400 transition-all duration-200 hover:bg-cyan-500/30 active:scale-95" href="#">
<span class="material-symbols-outlined">dashboard</span>
<span class="font-medium">Dashboard</span>
</a>
<a class="flex items-center gap-4 rounded-lg px-4 py-3 text-neutral-400 transition-all duration-200 hover:bg-neutral-800 hover:text-white active:scale-95" href="#">
<span class="material-symbols-outlined">train</span>
<span class="font-medium">Train Status</span>
</a>
<a class="flex items-center gap-4 rounded-lg px-4 py-3 text-neutral-400 transition-all duration-200 hover:bg-neutral-800 hover:text-white active:scale-95" href="#">
<span class="material-symbols-outlined">toggle_on</span>
<span class="font-medium">Verify Metro</span>
</a>
<a class="flex items-center gap-4 rounded-lg px-4 py-3 text-neutral-400 transition-all duration-200 hover:bg-neutral-800 hover:text-white active:scale-95" href="#">
<span class="material-symbols-outlined">group</span>
<span class="font-medium">Duty Staff</span>
</a>
</nav>
<div class="mt-auto flex flex-col gap-3">
<div class="p-2">
<div class="flex items-center justify-center rounded-lg bg-neutral-800 p-1">
<button @click="isDark = false" class="flex-1 rounded-md p-2 text-sm font-medium transition-all duration-200 text-neutral-400 hover:text-white active:scale-95">
<span class="material-symbols-outlined mr-2 align-bottom text-base">light_mode</span>
<span>Light</span>
</button>
<button @click="isDark = true" class="flex-1 rounded-md p-2 text-sm font-medium transition-all duration-200 bg-neutral-700 text-cyan-400 shadow active:scale-95">
<span class="material-symbols-outlined mr-2 align-bottom text-base">dark_mode</span>
<span>Dark</span>
</button>
</div>
</div>
<a class="flex items-center gap-4 rounded-lg px-4 py-3 text-neutral-400 transition-all duration-200 hover:bg-neutral-800 hover:text-white active:scale-95" href="#">
<span class="material-symbols-outlined">settings</span>
<span class="font-medium">Settings</span>
</a>
</div>
</aside>
<main class="flex-1 overflow-y-auto bg-neutral-900/50">
<div class="p-4 md:p-6 lg:p-8">
<h2 class="mb-6 text-2xl lg:text-3xl font-bold">Dashboard</h2>
<div class="grid grid-cols-1 gap-6 lg:grid-cols-2 xl:grid-cols-5">
<div class="rounded-2xl bg-neutral-800 p-4 sm:p-6 shadow-lg transition-all duration-300 xl:col-span-2">
<div class="flex items-start justify-between mb-4">
<h3 class="text-lg lg:text-xl font-semibold">Train Status</h3>
<div class="text-right">
<p class="font-mono text-base lg:text-lg font-medium text-neutral-300" x-text="formattedTime"></p>
<p class="text-xs sm:text-sm text-neutral-400" x-text="formattedDate"></p>
</div>
</div>
<div class="flex justify-around gap-2 sm:gap-4 pt-2">
<button :class="{ 'scale-110' : activeFilter === 'running'}" @click="activeFilter = 'running'" class="text-center group transition-transform duration-200 ease-in-out hover:scale-110 active:scale-105">
<div class="relative mx-auto h-16 w-16 sm:h-20 sm:w-20">
<div :class="{'bg-lime-500/20': activeFilter === 'running'}" class="absolute inset-0 flex items-center justify-center rounded-full transition-colors">
<div class="running-dot h-3 w-3 sm:h-4 sm:w-4 rounded-full bg-lime-400"></div>
</div>
</div>
<p class="mt-3 text-sm font-medium">Running</p>
<p class="text-xl sm:text-2xl font-bold mt-1" x-text="runningCount"></p>
</button>
<button :class="{ 'scale-110' : activeFilter === 'delayed'}" @click="activeFilter = 'delayed'" class="text-center group transition-transform duration-200 ease-in-out hover:scale-110 active:scale-105">
<div class="relative mx-auto h-16 w-16 sm:h-20 sm:w-20">
<div :class="{'bg-amber-500/20': activeFilter === 'delayed'}" class="absolute inset-0 flex items-center justify-center rounded-full transition-colors">
<div class="delayed-dot h-3 w-3 sm:h-4 sm:w-4 rounded-full bg-amber-400"></div>
</div>
</div>
<p class="mt-3 text-sm font-medium">Delayed</p>
<p class="text-xl sm:text-2xl font-bold mt-1" x-text="delayedCount"></p>
</button>
<button :class="{ 'scale-110' : activeFilter === 'stopped'}" @click="activeFilter = 'stopped'" class="text-center group transition-transform duration-200 ease-in-out hover:scale-110 active:scale-105">
<div class="relative mx-auto h-16 w-16 sm:h-20 sm:w-20">
<div :class="{'bg-red-500/20': activeFilter === 'stopped'}" class="absolute inset-0 flex items-center justify-center rounded-full transition-colors">
<div class="stopped-dot h-3 w-3 sm:h-4 sm:w-4 rounded-full bg-red-500"></div>
</div>
</div>
<p class="mt-3 text-sm font-medium">Stopped</p>
<p class="text-xl sm:text-2xl font-bold mt-1" x-text="stoppedCount"></p>
</button>
</div>
<button class="mt-6 flex w-full items-center justify-center gap-2 rounded-lg bg-cyan-500/20 py-3 text-cyan-400 transition-all duration-200 hover:bg-cyan-500/30 active:scale-95">
<span class="material-symbols-outlined">add</span>
<span class="font-medium">Add Train</span>
</button>
</div>
<div class="rounded-2xl bg-neutral-800 p-4 sm:p-6 shadow-lg transition-all duration-300 xl:col-span-3">
<div class="flex items-center justify-between mb-4 sm:mb-6">
<h3 class="text-lg lg:text-xl font-semibold">Verify Metro</h3>
<div class="flex rounded-lg bg-neutral-700 p-1">
<button :class="{ 'bg-cyan-500/30 text-cyan-300 shadow': activeVerifyTab === 'current', 'text-neutral-400 hover:bg-neutral-600/50': activeVerifyTab !== 'current' }" @click="activeVerifyTab = 'current'" class="px-3 py-1.5 text-sm font-medium rounded-md transition-all duration-200 active:scale-95">Current</button>
<button :class="{ 'bg-cyan-500/30 text-cyan-300 shadow': activeVerifyTab === 'history', 'text-neutral-400 hover:bg-neutral-600/50': activeVerifyTab !== 'history' }" @click="activeVerifyTab = 'history'" class="px-3 py-1.5 text-sm font-medium rounded-md transition-all duration-200 active:scale-95">History</button>
</div>
</div>
<div class="space-y-3 max-h-[240px] overflow-y-auto pr-2" x-show="activeVerifyTab === 'current'">
<template :key="train.id" x-for="train in filteredTrains">
<div :class="{ 'bg-cyan-500/20': selectedTrain === train.id, 'hover:bg-neutral-700/50': selectedTrain !== train.id }" @click="selectedTrain = train.id" class="flex items-center justify-between p-3 rounded-lg cursor-pointer transition-all duration-200 active:scale-[0.98]">
<div class="flex items-center gap-4">
<div class="flex h-11 w-11 items-center justify-center rounded-lg bg-cyan-500/20 text-cyan-400">
<span class="material-symbols-outlined">train</span>
</div>
<div>
<p class="font-medium" x-text="train.id"></p>
<p class="text-sm text-neutral-400" x-text="train.name"></p>
</div>
</div>
<div class="flex items-center gap-3">
<template x-if="train.status === 'stopped'">
<button @click.stop="openVerifyModal(train)" class="flex items-center gap-2 rounded-md bg-red-500/20 px-3 py-1.5 text-sm font-medium text-red-300 transition-all duration-200 hover:bg-red-500/30 hover:text-red-200 active:scale-95">
<span class="material-symbols-outlined text-base">verified_user</span>
<span class="hidden sm:inline">Verify</span>
</button>
</template>
<div :class="{
                                        'bg-lime-400 running-dot': train.status === 'running',
                                        'bg-amber-400 delayed-dot': train.status === 'delayed',
                                        'bg-red-500 stopped-dot': train.status === 'stopped'
                                      }" class="h-3.5 w-3.5 rounded-full"></div>
</div>
</div>
</template>
<template x-if="filteredTrains.length === 0">
<div class="text-center py-6 text-neutral-400">No trains with this status.</div>
</template>
</div>
<div class="space-y-4" x-show="activeVerifyTab === 'history'" x-transition="">
<div class="flex gap-3">
<div class="relative flex-grow">
<span class="material-symbols-outlined absolute left-3.5 top-1/2 -translate-y-1/2 text-neutral-400">search</span>
<input class="w-full rounded-lg bg-neutral-700/50 py-2.5 pl-11 pr-4 text-white placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-cyan-500 border-transparent transition-all duration-200" placeholder="Search history..." type="text" x-model="historySearch"/>
</div>
<div class="relative">
<button @click="historyFilterOpen = !historyFilterOpen" class="flex h-full items-center justify-center gap-2 rounded-lg bg-neutral-700/50 px-4 text-neutral-300 transition-all duration-200 hover:bg-neutral-600 active:scale-95">
<span class="material-symbols-outlined">filter_list</span>
</button>
<div @click.away="historyFilterOpen = false" class="absolute right-0 top-full mt-2 w-48 rounded-lg bg-neutral-700 shadow-lg z-10 p-2 space-y-1" style="display: none;" x-show="historyFilterOpen" x-transition:enter="transition ease-out duration-100" x-transition:enter-end="opacity-100 scale-100" x-transition:enter-start="opacity-0 scale-95" x-transition:leave="transition ease-in duration-75" x-transition:leave-end="opacity-0 scale-95" x-transition:leave-start="opacity-100 scale-100">
<a class="block px-3 py-1.5 text-sm rounded-md hover:bg-neutral-600/70 transition-colors" href="#">Date Range</a>
<a class="block px-3 py-1.5 text-sm rounded-md hover:bg-neutral-600/70 transition-colors" href="#">Incident Type</a>
<a class="block px-3 py-1.5 text-sm rounded-md hover:bg-neutral-600/70 transition-colors" href="#">Train ID</a>
</div>
</div>
</div>
<div class="space-y-3 max-h-[188px] overflow-y-auto pr-2">
<template :key="index" x-for="(item, index) in filteredHistory">
<div class="flex items-center gap-4 rounded-lg p-3 bg-neutral-700/30">
<div :class="{ 'bg-lime-500/20 text-lime-500': item.status === 'success', 'bg-amber-500/20 text-amber-500': item.status === 'warning', 'bg-red-500/20 text-red-500': item.status === 'error', 'bg-cyan-500/20 text-cyan-500': item.status === 'info' }" class="flex h-9 w-9 flex-shrink-0 items-center justify-center rounded-full">
<span class="material-symbols-outlined text-lg" x-text="item.status === 'success' ? 'check_circle' : item.status === 'warning' ? 'warning' : item.status === 'error' ? 'error' : 'info'"></span>
</div>
<div class="flex-1">
<p class="text-sm font-medium"><span class="font-bold text-cyan-400" x-text="item.id"></span>: <span x-text="item.event"></span></p>
<p class="text-sm text-neutral-400 mt-1" x-text="item.time"></p>
</div>
</div>
</template>
<template x-if="filteredHistory.length === 0">
<p class="text-center text-neutral-400 py-6">No matching records found.</p>
</template>
</div>
</div>
</div>
</div>
<div class="mt-6 grid grid-cols-1 gap-6 lg:grid-cols-3">
<div class="lg:col-span-2">
<div class="relative h-[400px] sm:h-[500px] xl:h-[600px] overflow-hidden rounded-2xl bg-neutral-800 shadow-lg">
<div class="w-full h-full">
<img alt="Kochi Metro Map" class="h-full w-full object-cover" src="https://lh3.googleusercontent.com/aida-public/AB6AXuBfn5F8qXNbzX9Wq-ac20KddfzKvR9VZPRRsShRuuvsvR9_qsl3FX1uct1n732NeZfVvk8dKmlwdMQSz2-ADxBzoYSTRlIQUqkCMAY6kyTEv0A-OaWjcnfd_wMcUJjf16rFVC1Uj3j7roYi-6_dWLMtao6efat1PANLNGmpEVUcNoiFjfMSbtUaKfTOJKFlGJ3jll2aX7kdWgvCOi_SYNJEEVMJy_ONjxCfnRXZSFsKk0rVJtCrgClFrzEHMHEsYvLMoe6qFlYdpbXi"/>
<div class="absolute inset-0 bg-black/40"></div>
<div class="absolute bottom-4 right-4 sm:bottom-6 sm:right-6 flex flex-col gap-3">
<button class="flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-full bg-neutral-700/80 text-white shadow-md backdrop-blur-sm transition-all duration-200 hover:bg-neutral-600 active:scale-95">
<span class="material-symbols-outlined">add</span>
</button>
<button class="flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-full bg-neutral-700/80 text-white shadow-md backdrop-blur-sm transition-all duration-200 hover:bg-neutral-600 active:scale-95">
<span class="material-symbols-outlined">remove</span>
</button>
<button class="mt-3 flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-full bg-cyan-500/80 text-white shadow-md backdrop-blur-sm transition-all duration-200 hover:bg-cyan-600 active:scale-95">
<span class="material-symbols-outlined">navigation</span>
</button>
</div>
</div>
</div>
</div>
<div class="lg:col-span-1">
<div class="rounded-2xl bg-neutral-800 p-4 sm:p-6 shadow-lg" x-show="selectedTrain">
<h3 class="mb-6 text-lg lg:text-xl font-semibold">Train Details: <span x-text="selectedTrain"></span></h3>
<div class="space-y-6">
<div>
<h4 class="mb-3 font-semibold text-neutral-300">Current Issues</h4>
<template x-if="trains[selectedTrain] &amp;&amp; trains[selectedTrain].issue">
<div class="flex items-start gap-4 rounded-lg bg-red-900/30 p-4">
<span class="material-symbols-outlined mt-1 text-red-400">error</span>
<div>
<p class="font-medium text-red-300" x-text="trains[selectedTrain].issue.title"></p>
<p class="text-sm text-neutral-400 mt-1" x-text="trains[selectedTrain].issue.description"></p>
</div>
</div>
</template>
<template x-if="!trains[selectedTrain] || !trains[selectedTrain].issue">
<div class="flex items-center gap-4 rounded-lg bg-neutral-700/50 p-4">
<span class="material-symbols-outlined text-lime-400">check_circle</span>
<p class="text-neutral-300">No current issues reported.</p>
</div>
</template>
</div>
<div>
<h4 class="mb-3 font-semibold text-neutral-300">Last Reported Location</h4>
<div class="flex items-center gap-3" x-show="trains[selectedTrain]">
<span class="material-symbols-outlined text-cyan-400 text-2xl">location_on</span>
<p class="text-base lg:text-lg">
<span x-text="trains[selectedTrain]?.location.split(' ')[0]"></span>
<span class="font-medium text-cyan-400" x-text="trains[selectedTrain]?.location.substring(trains[selectedTrain]?.location.indexOf(' '))"></span>
</p>
</div>
</div>
<div>
<h4 class="mb-4 font-semibold text-neutral-300">Nearby On-Duty Officers</h4>
<div class="space-y-4">
<template :key="officer.name" x-for="officer in trains[selectedTrain]?.officers || []">
<div class="flex items-center justify-between rounded-lg bg-neutral-700/50 p-3 transition-colors hover:bg-neutral-700">
<div class="flex items-center gap-4">
<img :src="officer.avatar" alt="Officer avatar" class="h-11 w-11 rounded-full object-cover"/>
<div>
<p class="font-medium" x-text="officer.name"></p>
<p class="text-sm text-neutral-400" x-text="officer.role"></p>
</div>
</div>
<div class="flex items-center gap-2">
<button class="flex h-9 w-9 items-center justify-center rounded-full bg-cyan-500/20 text-cyan-400 transition-all duration-200 hover:bg-cyan-500/30 active:scale-90">
<span class="material-symbols-outlined text-base">call</span>
</button>
<button class="flex h-9 w-9 items-center justify-center rounded-full bg-cyan-500/20 text-cyan-400 transition-all duration-200 hover:bg-cyan-500/30 active:scale-90">
<span class="material-symbols-outlined text-base">chat</span>
</button>
</div>
</div>
</template>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<footer class="border-t border-neutral-800 bg-neutral-900 px-4 md:px-6 py-4 mt-auto">
<div class="flex flex-col items-center justify-between gap-4 sm:flex-row">
<p class="text-xs sm:text-sm text-neutral-400 text-center sm:text-left">© 2024 Kochi Metro Rail Ltd. All Rights Reserved.</p>
<div class="flex flex-wrap items-center justify-center gap-x-4 gap-y-2 sm:gap-x-6">
<a class="text-xs sm:text-sm text-neutral-400 transition-colors hover:text-white" href="#">Terms</a>
<a class="text-xs sm:text-sm text-neutral-400 transition-colors hover:text-white" href="#">Privacy</a>
<a class="flex items-center gap-2 text-xs sm:text-sm text-neutral-400 transition-colors hover:text-white" href="mailto:contact@kochimetro.org">
<span class="material-symbols-outlined text-base">email</span>
<span class="hidden md:inline">contact@kochimetro.org</span>
</a>
<a class="flex items-center gap-2 text-xs sm:text-sm text-neutral-400 transition-colors hover:text-white" href="tel:+914842846700">
<span class="material-symbols-outlined text-base">call</span>
<span class="hidden md:inline">+91 484 284 6700</span>
</a>
</div>
</div>
</footer>
</main>
</div>
<div @keydown.escape.window="verifyModalOpen = false" class="fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm" style="display: none;" x-show="verifyModalOpen">
<div @click.away="verifyModalOpen = false" class="w-full max-w-lg rounded-2xl bg-neutral-800 shadow-2xl" x-show="verifyModalOpen" x-transition:enter="transition ease-out duration-200" x-transition:enter-end="opacity-100 scale-100" x-transition:enter-start="opacity-0 scale-95" x-transition:leave="transition ease-in duration-200" x-transition:leave-end="opacity-0 scale-95" x-transition:leave-start="opacity-100 scale-100">
<div class="flex items-center justify-between border-b border-neutral-700 p-4">
<h3 class="text-xl font-semibold">Confirm Verification</h3>
<button @click="verifyModalOpen = false" class="text-neutral-400 hover:text-white rounded-full p-1 transition-colors active:bg-neutral-600">
<span class="material-symbols-outlined">close</span>
</button>
</div>
<div class="p-6 space-y-4">
<p class="text-neutral-300">Please confirm you want to verify the following issue report:</p>
<div class="rounded-lg bg-neutral-700/50 p-4 space-y-3">
<div class="flex items-center gap-3">
<span class="material-symbols-outlined text-cyan-400">train</span>
<p class="font-medium">Train ID: <span class="font-bold text-white" x-text="trainToVerify?.id"></span></p>
</div>
<div class="flex items-start gap-3">
<span class="material-symbols-outlined text-red-400 mt-1">error</span>
<div>
<p class="font-medium text-red-400" x-text="trainToVerify?.issue?.title"></p>
<p class="text-sm text-neutral-400" x-text="trainToVerify?.issue?.description"></p>
</div>
</div>
</div>
<div class="space-y-4 pt-2">
<label class="flex items-center gap-3 cursor-pointer">
<input class="h-5 w-5 rounded border-neutral-600 bg-neutral-700 text-cyan-500 focus:ring-cyan-500/50 focus:ring-offset-neutral-800" type="checkbox" x-model="issueResolved"/>
<span class="text-neutral-200">Is the issue resolved?</span>
</label>
<div x-show="!issueResolved" x-transition="">
<label class="block text-sm font-medium text-neutral-300 mb-2" for="issue-status">Describe current status:</label>
<textarea class="w-full rounded-lg bg-neutral-700/50 p-3 text-white placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-cyan-500 border-transparent transition-all duration-200" id="issue-status" placeholder="e.g., Awaiting spare parts, temporary fix applied..." rows="3" x-model="issueStatusDescription"></textarea>
</div>
</div>
</div>
<div class="flex justify-end gap-4 border-t border-neutral-700 p-4 bg-neutral-800/50 rounded-b-2xl">
<button @click="verifyModalOpen = false" class="px-4 py-2 rounded-lg bg-neutral-700 text-white font-medium transition-all duration-200 hover:bg-neutral-600 active:scale-95">Cancel</button>
<button @click="confirmVerification()" class="px-4 py-2 rounded-lg bg-cyan-500 text-white font-medium transition-all duration-200 hover:bg-cyan-600 flex items-center gap-2 active:scale-95">
<span class="material-symbols-outlined text-base">verified_user</span>
<span>Confirm</span>
</button>
</div>
</div>
</div>
<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm hidden" id="notification-modal">
<div class="w-full max-w-md rounded-2xl bg-neutral-800 shadow-2xl" x-transition:enter="transition ease-out duration-200" x-transition:enter-end="opacity-100 scale-100" x-transition:enter-start="opacity-0 scale-95" x-transition:leave="transition ease-in duration-200" x-transition:leave-end="opacity-0 scale-95" x-transition:leave-start="opacity-100 scale-100">
<div class="flex items-center justify-between border-b border-neutral-700 p-4">
<h3 class="text-xl font-semibold">Notifications</h3>
<button class="text-neutral-400 hover:text-white rounded-full p-1 transition-colors active:bg-neutral-600" id="close-modal-button">
<span class="material-symbols-outlined">close</span>
</button>
</div>
<div class="p-6 space-y-4 max-h-[60vh] overflow-y-auto">
<div class="flex items-start gap-4 p-3 rounded-lg bg-neutral-700/50 hover:bg-neutral-700 transition-colors cursor-pointer">
<div class="flex h-10 w-10 items-center justify-center rounded-full bg-red-500/20 text-red-400">
<span class="material-symbols-outlined">error</span>
</div>
<div>
<p class="font-medium">Brake System Malfunction</p>
<p class="text-sm text-neutral-400">Train KM-021 reported a minor brake issue. Maintenance has been dispatched.</p>
<p class="text-xs text-neutral-500 mt-1">5 minutes ago</p>
</div>
</div>
<div class="flex items-start gap-4 p-3 rounded-lg bg-neutral-700/50 hover:bg-neutral-700 transition-colors cursor-pointer">
<div class="flex h-10 w-10 items-center justify-center rounded-full bg-amber-500/20 text-amber-400">
<span class="material-symbols-outlined">warning</span>
</div>
<div>
<p class="font-medium">Signal Delay</p>
<p class="text-sm text-neutral-400">Signal failure near Palarivattom causing minor delays on Line 1.</p>
<p class="text-xs text-neutral-500 mt-1">12 minutes ago</p>
</div>
</div>
<div class="flex items-start gap-4 p-3 rounded-lg bg-neutral-700/50 hover:bg-neutral-700 transition-colors cursor-pointer">
<div class="flex h-10 w-10 items-center justify-center rounded-full bg-cyan-500/20 text-cyan-400">
<span class="material-symbols-outlined">info</span>
</div>
<div>
<p class="font-medium">Scheduled Maintenance</p>
<p class="text-sm text-neutral-400">Track maintenance scheduled for Line 2 between 1 AM and 4 AM tonight.</p>
<p class="text-xs text-neutral-500 mt-1">1 hour ago</p>
</div>
</div>
<div class="flex items-start gap-4 p-3 rounded-lg bg-neutral-700/50 hover:bg-neutral-700 transition-colors cursor-pointer">
<div class="flex h-10 w-10 items-center justify-center rounded-full bg-lime-500/20 text-lime-400">
<span class="material-symbols-outlined">task_alt</span>
</div>
<div>
<p class="font-medium">Issue Resolved</p>
<p class="text-sm text-neutral-400">Power outage issue at MG Road station has been resolved. Normal operations resumed.</p>
<p class="text-xs text-neutral-500 mt-1">2 hours ago</p>
</div>
</div>
</div>
<div class="border-t border-neutral-700 p-4">
<button class="w-full rounded-lg bg-cyan-500/20 py-2.5 text-center font-medium text-cyan-400 transition-all duration-200 hover:bg-cyan-500/30 active:scale-95">
                        View All Notifications
                    </button>
</div>
</div>
</div>
<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm hidden" id="qr-scanner-modal">
<div class="w-full max-w-lg rounded-2xl bg-neutral-800 shadow-2xl" x-transition:enter="transition ease-out duration-200" x-transition:enter-end="opacity-100 scale-100" x-transition:enter-start="opacity-0 scale-95" x-transition:leave="transition ease-in duration-200" x-transition:leave-end="opacity-0 scale-95" x-transition:leave-start="opacity-100 scale-100">
<div class="flex items-center justify-between border-b border-neutral-700 p-4">
<h3 class="text-xl font-semibold">QR Code Scanner</h3>
<button class="text-neutral-400 hover:text-white rounded-full p-1 transition-colors active:bg-neutral-600" id="close-qr-modal-button">
<span class="material-symbols-outlined">close</span>
</button>
</div>
<div class="p-6">
<div class="relative mb-4 h-64 w-full overflow-hidden rounded-xl bg-neutral-900">
<div class="absolute inset-0 flex items-center justify-center">
<div class="h-full w-full bg-black"></div>
</div>
<div class="absolute inset-0 flex items-center justify-center">
<div class="h-48 w-48 border-4 border-dashed border-cyan-400/50 rounded-lg"></div>
</div>
<div class="absolute bottom-2 left-1/2 -translate-x-1/2 w-3/4 h-1 bg-cyan-400 animate-pulse"></div>
</div>
<p class="text-center text-neutral-400 mb-4">Point the camera at a QR code to scan it.</p>
<div class="grid grid-cols-3 gap-2">
<button class="flex flex-col items-center gap-2 rounded-lg bg-cyan-500/20 py-3 text-cyan-400 transition-all duration-200 hover:bg-cyan-500/30 focus:outline-none focus:ring-2 focus:ring-cyan-500 active:scale-95">
<span class="material-symbols-outlined">badge</span>
<span class="text-sm font-medium">Employee Login</span>
</button>
<button class="flex flex-col items-center gap-2 rounded-lg bg-neutral-700 py-3 text-neutral-300 transition-all duration-200 hover:bg-neutral-600 active:scale-95">
<span class="material-symbols-outlined">report_problem</span>
<span class="text-sm font-medium">Problem Scan</span>
</button>
<button class="flex flex-col items-center gap-2 rounded-lg bg-neutral-700 py-3 text-neutral-300 transition-all duration-200 hover:bg-neutral-600 active:scale-95">
<span class="material-symbols-outlined">train</span>
<span class="text-sm font-medium">Train Scan</span>
</button>
</div>
</div>
</div>
</div>
<div aria-live="assertive" class="pointer-events-none fixed inset-0 flex items-end px-4 py-6 sm:items-start sm:p-6 z-[60]">
<div class="flex w-full flex-col items-center space-y-4 sm:items-end">
<div @click.away="notification.show = false" class="pointer-events-auto w-full max-w-md overflow-hidden rounded-lg bg-neutral-800 shadow-lg ring-1 ring-black ring-opacity-5" style="display: none;" x-show="notification.show" x-transition:enter="transform ease-out duration-300 transition" x-transition:enter-end="translate-y-0 opacity-100 sm:translate-y-0 sm:translate-x-0" x-transition:enter-start="translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2" x-transition:leave="transition ease-in duration-100" x-transition:leave-end="opacity-0" x-transition:leave-start="opacity-100">
<div class="p-4">
<div class="flex items-start">
<div class="flex-shrink-0">
<span class="material-symbols-outlined text-lime-400 text-2xl">check_circle</span>
</div>
<div class="ml-3 w-0 flex-1 pt-0.5">
<p class="text-sm font-medium text-white">Issue Resolved: <span class="font-bold text-cyan-400" x-text="notification.train?.id"></span></p>
<p class="mt-1 text-sm text-neutral-300">Train <span x-text="notification.train?.id"></span> (<span x-text="notification.train?.name"></span>) is now back in running status.</p>
<div class="mt-3">
<p class="text-xs font-medium text-neutral-400">Resolved by:</p>
<div class="mt-1 flex -space-x-1 overflow-hidden">
<template :key="officer.name" x-for="officer in notification.officers">
<img :src="officer.avatar" :title="officer.name" alt="Officer avatar" class="inline-block h-6 w-6 rounded-full ring-2 ring-neutral-800"/>
</template>
</div>
</div>
</div>
<div class="ml-4 flex flex-shrink-0">
<button @click="notification.show = false" class="inline-flex rounded-md bg-neutral-800 text-neutral-400 hover:text-neutral-200 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 focus:ring-offset-neutral-800" type="button">
<span class="sr-only">Close</span>
<span class="material-symbols-outlined text-lg">close</span>
</button>
</div>
</div>
</div>
</div>
</div>
</div>
<script>
            const notificationButton = document.getElementById('notification-button');
            const notificationModal = document.getElementById('notification-modal');
            const closeModalButton = document.getElementById('close-modal-button');
            const qrScannerButton = document.getElementById('qr-scanner-button');
            const qrScannerModal = document.getElementById('qr-scanner-modal');
            const closeQrModalButton = document.getElementById('close-qr-modal-button');
            function showModal(modal) {
                modal.classList.remove('hidden');
                modal.firstElementChild.style.display = 'block';
            }
            function hideModal(modal) {
                const modalContent = modal.firstElementChild;
                modalContent.style.display = 'none';
                modal.classList.add('hidden');
            }
            notificationButton.addEventListener('click', () => showModal(notificationModal));
            closeModalButton.addEventListener('click', () => hideModal(notificationModal));
            notificationModal.addEventListener('click', (e) => {
                if (e.target === notificationModal) hideModal(notificationModal);
            });
            qrScannerButton.addEventListener('click', () => showModal(qrScannerModal));
            closeQrModalButton.addEventListener('click', () => hideModal(qrScannerModal));
            qrScannerModal.addEventListener('click', (e) => {
                if (e.target === qrScannerModal) hideModal(qrScannerModal);
            });
        </script>
<script defer="" src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
</div>
</body></html>
